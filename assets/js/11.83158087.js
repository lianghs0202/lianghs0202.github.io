(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{348:function(s,n,a){"use strict";a.r(n);var t=a(0),e=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h3",{attrs:{id:"一、jenkins-介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、jenkins-介绍"}},[s._v("#")]),s._v(" 一、Jenkins 介绍")]),s._v(" "),n("h2",{attrs:{id:"_1-什么是-jenkins"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是-jenkins"}},[s._v("#")]),s._v(" 1.什么是 Jenkins？")]),s._v(" "),n("p",[s._v("Jenkins 是一款开源的持续集成和持续交付工具，它可以帮助软件开发团队快速构建、测试和部署应用程序。Jenkins 可以集成不同的开发工具，如 Git、GitHub、JIRA 等，以及不同的构建工具，如 Maven、Gradle 等，从而实现持续集成和持续交付的流程。")]),s._v(" "),n("h2",{attrs:{id:"_2-为什么使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-为什么使用"}},[s._v("#")]),s._v(" 2.为什么使用")]),s._v(" "),n("ol",[n("li",[s._v("提高软件交付速度：Jenkins 可以自动化构建、测试和部署应用程序，并提供实时反馈，从而大大缩短软件交付周期。")]),s._v(" "),n("li",[s._v("降低软件开发成本：Jenkins 可以自动化执行重复性的任务，如构建和测试，减少手动干预，从而降低开发成本。")]),s._v(" "),n("li",[s._v("提高软件质量：Jenkins 可以在每次代码变更之后自动构建和测试应用程序，从而更早地发现和解决问题，提高软件质量。")]),s._v(" "),n("li",[s._v("提高团队协作效率：Jenkins 可以集成不同的开发工具和构建工具，从而提高团队协作效率。")])]),s._v(" "),n("h3",{attrs:{id:"二、使用-docker-安装-jenkins"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、使用-docker-安装-jenkins"}},[s._v("#")]),s._v(" 二、使用 Docker 安装 Jenkins")]),s._v(" "),n("h2",{attrs:{id:"_1-获取-jenkins-镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-获取-jenkins-镜像"}},[s._v("#")]),s._v(" 1.获取 Jenkins 镜像")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" search jenkins\n---------------------\nNAME                DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED\njenkins             DEPRECATED"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" use "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jenkins/jenkins:lts"')]),s._v(" instead   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5441")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\njenkins/jenkins     The leading "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" automation server       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2936")]),s._v("\njenkinsci/jenkins   Jenkins Continuous Integration and Delivery …   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("396")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h2",{attrs:{id:"_2-安装脚本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装脚本"}},[s._v("#")]),s._v(" 2.安装脚本")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此处使用官方镜像")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull jenkins/jenkins\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建挂载目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /usr/local/jenkins\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /usr/local/jenkins\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#创建并启动 Jenkins 容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8888")]),s._v(":8080 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50000")]),s._v(":50000 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" /usr/local/jenkins:/var/jenkins_home "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" /etc/localtime:/etc/localtime "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--restart")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("jenkins "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    jenkins/jenkins\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("ul",[n("li",[s._v("-d：后台运行容器；")]),s._v(" "),n("li",[s._v("-p 8888:8080：将容器的 8080 端口映射到服务器的 8888 端口；")]),s._v(" "),n("li",[s._v("-p 50000:50000：将容器的 50000 端口映射到服务器的 50000 端口；")]),s._v(" "),n("li",[s._v("-v /usr/local/jenkins:/var/jenkins_home：将容器中 Jenkins 的工作目录挂载到服务器的 /usr/local/jenkins；")]),s._v(" "),n("li",[s._v("-v /etc/localtime:/etc/localtime：让容器使用和服务器同样的时间设置；")]),s._v(" "),n("li",[s._v("--restart=always：设置容器的重启策略为 Docker 重启时自动重启；")]),s._v(" "),n("li",[s._v("--name=jenkins：给容器起别名；")])]),s._v(" "),n("h2",{attrs:{id:"_3-docker-compose-相关-yml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-docker-compose-相关-yml"}},[s._v("#")]),s._v(" 3.docker-compose 相关 yml")]),s._v(" "),n("div",{staticClass:"language-yml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jenkins")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" jenkins/jenkins"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("latest\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" jenkins\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("environment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 时区上海")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("TZ")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Asia/Shanghai\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Jenkins内存限制")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("JAVA_OPTS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("server "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("Xms1024m "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("Xmx1024m "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("XX"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("PermSize=256m "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("XX"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("MaxPermSize=512m\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8888:8080"')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"50000:50000"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# jenkins 目录映射")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" /usr/local/jenkins"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/var/jenkins_home\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置文件映射")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" /etc/localtime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/etc/localtime\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("privileged")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);